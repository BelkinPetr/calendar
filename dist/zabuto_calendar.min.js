/*! Zabuto Calendar - v2.0.0 - 2017-11-12
* https://github.com/zabuto/calendar
* Copyright (c) 2017 Anke Heijnen; Licensed MIT */

var ZabutoCalendarTranslations={};!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.settings=a.extend({},g,c),this.translation=null,this.init()}var f=new Date,g={year:f.getFullYear(),month:f.getMonth()+1,language:"en",translation:null,week_starts:"monday",show_days:!0,class:null,header_format:"month year",date_format:"y-m-d",navigation:{prev:'<span class="glyphicon glyphicon-chevron-left"></span>',next:'<span class="glyphicon glyphicon-chevron-right"></span>'}};a.fn.zabuto_calendar=function(b){return this.each(function(){a.data(this,"zabuto-calendar")||a.data(this,"zabuto-calendar",new e(this,b))})},a.extend(e.prototype,{init:function(){var b=this,c=b.settings.language.toLowerCase();a(b.element).data("locale",c),a(b.element).data("year",b.settings.year),a(b.element).data("month",b.settings.month);var d=b._getTranslation(c);if(null!==d)b.translation=d,b.render();else{var e=a("script[src*=zabuto_calendar]").attr("src");e=e.replace("zabuto_calendar.js","zabuto_calendar."+c+".json"),a.getJSON(e,function(a){b._setTranslation(c,a),b.translation=a,b.render()})}},destroy:function(){this._removeLocalData(),a.data(this,"zabuto-calendar")||a.data(this,"zabuto-calendar",null)},goto:function(b,c){!1!==this._isValidDate(b,c,1)&&(a(this.element).data("year",b),a(this.element).data("month",c),this.render())},render:function(){var b=a(this.element).data("year"),c=a(this.element).data("month");a(this.element).empty(),this._isValidDate(b,c,1)&&a(this.element).append(this._renderTable(b,c))},_renderTable:function(b,c){var d=a("<table></table>").addClass("zabuto-calendar");this.settings.class&&d.addClass(this.settings.class);var e=a("<thead></thead>");e.append(this._renderNavigation(b,c)),!0===this.settings.show_days&&e.append(this._renderDaysOfWeek());var f=this._renderDaysInMonth(b,c);return d.append(e),d.append(f),d},_renderNavigation:function(b,c){var d=this,e=d.settings.header_format;if(e=e.replace("year",b.toString()),null!==d.translation&&"months"in d.translation){var f=d.translation.months;e=e.replace("month",f[c.toString()])}else e=e.replace("month",c.toString());var g=a("<tr></tr>").addClass("zabuto-calendar__navigation").attr("role","navigation"),h=d._renderNavigationItem("prev",d._calculatePrevious(b,c)),i=d._renderNavigationItem("next",d._calculateNext(b,c)),j=a("<span></span>").text(e).data("to",{year:d.settings.year,month:d.settings.month});j.addClass("zabuto-calendar__navigation__item--header__title"),j.on("dblclick",function(){var b=a(this).data("to");d.goto(b.year,b.month)});var k=a("<td></td>");return k.addClass("zabuto-calendar__navigation__item--header"),k.append(j),g.append(h),g.append(k.attr("colspan",5)),g.append(i),g},_renderNavigationItem:function(b,c){var d=this;b=b.toString();var e=a("<td></td>").data("nav",b).data("to",c);return e.addClass("zabuto-calendar__navigation__item--"+b),e.html(d.settings.navigation[b]),e.on("click",function(){var b=a(this).data("to");d.goto(b.year,b.month)}),e},_renderDaysOfWeek:function(){var b=this.settings.week_starts,c={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"};null!==this.translation&&"days"in this.translation&&(c=this.translation.days);var d=a("<tr></tr>").addClass("zabuto-calendar__days-of-week");return 0!==b&&"0"!==b&&"sunday"!==b||d.append(a("<th></th>").text(c[0]).addClass("zabuto-calendar__days-of-week__item")),d.append(a("<th></th>").text(c[1]).addClass("zabuto-calendar__days-of-week__item")),d.append(a("<th></th>").text(c[2]).addClass("zabuto-calendar__days-of-week__item")),d.append(a("<th></th>").text(c[3]).addClass("zabuto-calendar__days-of-week__item")),d.append(a("<th></th>").text(c[4]).addClass("zabuto-calendar__days-of-week__item")),d.append(a("<th></th>").text(c[5]).addClass("zabuto-calendar__days-of-week__item")),d.append(a("<th></th>").text(c[6]).addClass("zabuto-calendar__days-of-week__item")),1!==b&&"1"!==b&&"monday"!==b||d.append(a("<th></th>").text(c[0]).addClass("zabuto-calendar__days-of-week__item")),d},_renderDaysInMonth:function(b,c){var d=this,e=d.settings.week_starts,f=d._calculateWeeksInMonth(b,c),g=d._calculateLastDayOfMonth(b,c),h=d._calculateDayOfWeek(b,c,1),i=[0,1,2,3,4,5,6],j=h;1!==e&&"1"!==e&&"monday"!==e||(i=[1,2,3,4,5,6,7],j=0===h?7:h);for(var k=a("<tbody></tbody>"),l=1,m=1;m<=f;m++){var n=d._renderWeek(m,f);a.each(i,function(e,f){if(1===m&&f<j||l>g)n.append(a("<td></td>").addClass("zabuto-calendar__day--empty"));else{var h=d._renderDay(b,c,l,f);n.append(h),l++}}),k.append(n)}return k},_renderWeek:function(b,c){var d=a("<tr></tr>");return 1===b?d.addClass("zabuto-calendar__week--first"):b===c?d.addClass("zabuto-calendar__week--last"):d.addClass("zabuto-calendar__week"),d},_renderDay:function(b,c,d,e){var f=a("<td></td>").text(d);return f.data("date",this._dateAsString(b,c,d)),f.data("day",d),f.data("dow",7===e?0:e),this._isToday(b,c,d)?(f.data("today",1),f.addClass("zabuto-calendar__day--today")):(f.data("today",0),f.addClass("zabuto-calendar__day")),f},_getTranslation:function(a){var b=this.settings.translation;if(null!==b&&"months"in b&&"days"in b)return b;if("object"==typeof ZabutoCalendarTranslations&&a in ZabutoCalendarTranslations)return ZabutoCalendarTranslations[a];var c="zabuto-calendar-translation-"+a,e=null;if(localStorage!==d)try{e=localStorage.getItem(c)}catch(a){}return null!==e&&(e=JSON.parse(e)),e},_setTranslation:function(a,b){var c="zabuto-calendar-translation-"+a;if(localStorage!==d)try{localStorage.setItem(c,JSON.stringify(b))}catch(a){}},_removeLocalData:function(){if(localStorage!==d)try{for(var a=0;a<localStorage.length;a++){var b=localStorage.key(a);"zabuto-calendar"===b.substr(0,15)&&localStorage.removeItem(b)}}catch(a){}},_calculateWeeksInMonth:function(a,b){var c=this.settings.week_starts,d=this._calculateLastDayOfMonth(a,b),e=this._calculateDayOfWeek(a,b,1),f=this._calculateDayOfWeek(a,b,d),g=d,h=e,i=f;1!==c&&"1"!==c&&"monday"!==c||(h=0===e?7:e,i=0===e?7:e);var j=h-i;return j>0&&(g+=j),Math.ceil(g/7)},_calculateLastDayOfMonth:function(a,b){var c=b-1;return new Date(a,c+1,0).getDate()},_calculateDayOfWeek:function(a,b,c){var d=b-1;return new Date(a,d,c).getDay()},_calculatePrevious:function(a,b){var c=a,d=b-1;return 0===d&&(c=a-1,d=12),{year:c,month:d}},_calculateNext:function(a,b){var c=a,d=b+1;return 13===d&&(c=a+1,d=1),{year:c,month:d}},_isValidDate:function(a,b,c){if(b<1||b>12)return!1;var d=b-1,e=new Date(a,d,c);return e.getFullYear()===a&&e.getMonth()===d&&e.getDate()===Number(c)},_isToday:function(a,b,c){var d=b-1,e=new Date;return new Date(a,d,c).toDateString()===e.toDateString()},_dateAsString:function(a,b,c){var d=this.settings.date_format;return c=c<10?"0"+c:c,b=b<10?"0"+b:b,d=d.replace("y",a),d=d.replace("m",b),d=d.replace("d",c)}})}(jQuery,window,document,void 0);var ZabutoCalendarTranslations=ZabutoCalendarTranslations||{};ZabutoCalendarTranslations.en={months:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},days:{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}},ZabutoCalendarTranslations.nl={months:{1:"Januari",2:"Februari",3:"Maart",4:"April",5:"Mei",6:"Juni",7:"Juli",8:"Augustus",9:"September",10:"Oktober",11:"November",12:"December"},days:{0:"Zo",1:"Ma",2:"Di",3:"Wo",4:"Do",5:"Vr",6:"Za"}};